{"version":3,"file":"utils.js","sourceRoot":"","sources":["../../src/utils.ts"],"names":[],"mappings":";AAAA,IAAY,OAAO,WAAM,SAAS,CAAC,CAAA;AAMnC,uBAA8B,MAAW;IACvC,EAAE,CAAA,CAAC,OAAO,MAAM,KAAK,QAAQ,CAAC,CAAC,CAAC;QAC9B,MAAM,CAAC,aAAa,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC;IACxC,CAAC;IAAC,IAAI,CAAC,EAAE,CAAC,CAAC,OAAO,MAAM,KAAK,UAAU,CAAC,CAAC,CAAC;QACxC,MAAM,CAAC,MAAM,EAAE,CAAC;IAClB,CAAC;IAAC,IAAI,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,UAAU,KAAK,IAAI,IAAI,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC;QAC1D,MAAM,CAAC,aAAa,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;IACvC,CAAC;IAAC,IAAI,CAAC,CAAC;QACN,MAAM,CAAC,MAAM,CAAC;IAChB,CAAC;AACH,CAAC;AAVe,qBAAa,gBAU5B,CAAA;AAED,oBAA2B,MAAW;IACpC,IAAM,QAAQ,GAAG,OAAO,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,CAAC;IAChD,MAAM,CAAC;QACL,kBAAQ;QACR,IAAI,EAAE,IAAI,OAAO,CAAE,UAAC,GAAG,EAAE,GAAG,IAAK,OAAA,QAAQ,CAAC,GAAG,CAAC,UAAC,GAAG,EAAE,KAAK,IAAK,OAAA,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,KAAK,CAAC,EAA3B,CAA2B,CAAC,EAAzD,CAAyD,CAAE;KAC7F,CAAA;AACH,CAAC;AANe,kBAAU,aAMzB,CAAA","sourcesContent":["import * as webpack from 'webpack';\n\nexport type Compiler = webpack.compiler.Compiler;\nexport type Stats = webpack.compiler.Stats;\n\n\nexport function resolveConfig(config: any): any {\n  if(typeof config === 'string') {\n    return resolveConfig(require(config));\n  } else if (typeof config === 'function') {\n    return config();\n  } else if (config.__esModule === true && !!config.default) {\n    return resolveConfig(config.default);\n  } else {\n    return config;\n  }\n}\n\nexport function runWebpack(config: any): { compiler: Compiler, done: Promise<Stats> } {\n  const compiler = webpack(resolveConfig(config));\n  return {\n    compiler,\n    done: new Promise( (RSV, RJT) => compiler.run((err, stats) => err ? RJT(err) : RSV(stats)) )\n  }\n}\n"]}